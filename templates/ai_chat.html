<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Wellness Assistant</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>ü§ñ AI Wellness Assistant</h1>
        <p style="text-align: center; color: #666;">Ask me anything about your fitness journey!</p>

        <div class="chat-container">
            <h2>ü§ñ Your Personal AI Coach</h2>
            <p class="coach-intro">Get personalised advice based on your {{ user.profile_data.get('goal', 'fitness').replace('_', ' ') }} goals and profile.</p>

            <form method="POST" action="/ai-response" class="chat-form">
                <label for="question">Ask your AI coach anything about fitness, nutrition, or wellness:</label>
                <textarea name="question" id="question" rows="4" placeholder="e.g., What should I eat to support my {{ user.profile_data.get('goal', 'fitness').replace('_', ' ') }} goals? How can I improve my sleep? What's the best approach for my fitness level?" required></textarea>
                <button type="submit" class="button">Get Personalised Advice</button>
            </form>

            <div class="suggested-questions">
                <h3>üí° Popular Questions:</h3>
                {% if user.profile_data.get('goal') == 'weight_loss' %}
                <div class="question-btn" onclick="document.querySelector('[name=question]').value = 'What foods should I eat for sustainable weight loss?'">What foods should I eat for sustainable weight loss?</div>
                <div class="question-btn" onclick="document.querySelector('[name=question]').value = 'How can I overcome sugar cravings?'">How can I overcome sugar cravings?</div>
                <div class="question-btn" onclick="document.querySelector('[name=question]').value = 'What exercise is best for fat loss?'">What exercise is best for fat loss?</div>
                {% elif user.profile_data.get('goal') == 'muscle_gain' %}
                <div class="question-btn" onclick="document.querySelector('[name=question]').value = 'How much protein do I need for muscle growth?'">How much protein do I need for muscle growth?</div>
                <div class="question-btn" onclick="document.querySelector('[name=question]').value = 'What are the best muscle-building exercises?'">What are the best muscle-building exercises?</div>
                <div class="question-btn" onclick="document.querySelector('[name=question]').value = 'How important is rest for muscle growth?'">How important is rest for muscle growth?</div>
                {% else %}
                <div class="question-btn" onclick="document.querySelector('[name=question]').value = 'How can I build healthy habits that stick?'">How can I build healthy habits that stick?</div>
                <div class="question-btn" onclick="document.querySelector('[name=question]').value = 'What exercise should I start with as a beginner?'">What exercise should I start with as a beginner?</div>
                <div class="question-btn" onclick="document.querySelector('[name=question]').value = 'Tips for better sleep quality?'">Tips for better sleep quality?</div>
                {% endif %}
            </div>
        </div>

        <div style="text-align: center; margin-top: 20px;">
            <a href="/dashboard" style="color: #2d5a3d;">‚Üê Back to Dashboard</a>
        </div>
    </div>
</body>
</html>